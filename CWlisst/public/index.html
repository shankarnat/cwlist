<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Content Lenses</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="app-container">
        <!-- Lightning Header -->
        <div class="page-header">
            <div class="page-header__row">
                <div class="page-header__col-title">
                    <div class="page-header__title-wrapper">
                        <div class="object-icon">
                            <span class="icon-text">L</span>
                        </div>
                        <div class="page-header__name">
                            <div class="page-header__name-title">
                                <span class="page-header__title">Content Lenses</span>
                                <div class="page-header__info">
                                    <span class="record-count">3 items â€¢ Updated a few seconds ago</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="page-header__col-actions">
                    <div class="page-header__controls">
                        <button class="btn btn-neutral">
                            <svg class="btn-icon" viewBox="0 0 20 20">
                                <path d="M11.75 7.5a.75.75 0 00-1.5 0v2.75H7.5a.75.75 0 000 1.5h2.75v2.75a.75.75 0 001.5 0v-2.75H14.5a.75.75 0 000-1.5h-2.75V7.5z" />
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm0-1.5a6.5 6.5 0 100-13 6.5 6.5 0 000 13z" clip-rule="evenodd" />
                            </svg>
                            Import
                        </button>
                        <button class="btn btn-brand" onclick="showNewModal()" id="newButton">New</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- List View Container -->
        <div class="list-view-container">
            <!-- List View Controls -->
            <div class="list-view-controls">
                <div class="list-view-controls__left">
                    <div class="view-selector">
                        <button class="view-selector__button">
                            <span>Recently Viewed</span>
                            <svg class="view-selector__icon" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd" />
                            </svg>
                        </button>
                    </div>
                    <button class="btn-icon-border">
                        <svg viewBox="0 0 20 20">
                            <path d="M5 3a2 2 0 00-2 2v2.5a.5.5 0 001 0V5a1 1 0 011-1h2.5a.5.5 0 000-1H5zM12.5 4a.5.5 0 000 1H15a1 1 0 011 1v2.5a.5.5 0 001 0V5a2 2 0 00-2-2h-2.5zM4 12.5a.5.5 0 00-1 0V15a2 2 0 002 2h2.5a.5.5 0 000-1H5a1 1 0 01-1-1v-2.5zM16.5 12.5a.5.5 0 00-1 0V15a1 1 0 01-1 1H12a.5.5 0 000 1h2.5a2 2 0 002-2v-2.5z" />
                        </svg>
                    </button>
                </div>
                <div class="list-view-controls__center">
                    <div class="search-box">
                        <svg class="search-box__icon" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z" clip-rule="evenodd" />
                        </svg>
                        <input type="text" id="searchInput" class="search-box__input" placeholder="Search this list...">
                    </div>
                </div>
                <div class="list-view-controls__right">
                    <button class="btn-icon-border" id="refreshBtn" onclick="refreshLenses()">
                        <svg viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z" clip-rule="evenodd" />
                        </svg>
                        <span id="pendingBadge" class="pending-badge" style="display:none;">0</span>
                    </button>
                    <div class="list-actions">
                        <button class="btn-icon-border" title="List View Controls">
                            <svg viewBox="0 0 20 20">
                                <path d="M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z" />
                            </svg>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Data Table -->
            <div class="table-wrapper">
                <table class="data-table">
                    <thead>
                        <tr>
                            <th class="table-cell-checkbox">
                                <div class="checkbox-wrapper">
                                    <input type="checkbox" id="selectAll" class="checkbox" onchange="toggleSelectAll()">
                                    <label for="selectAll" class="checkbox-label"></label>
                                </div>
                            </th>
                            <th class="table-cell-actions"></th>
                            <th class="sortable">
                                <a href="javascript:void(0)" class="sort-link">
                                    Lens Name
                                    <svg class="sort-icon" viewBox="0 0 20 20">
                                        <path d="M5.293 7.707a1 1 0 010-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L6.707 7.707a1 1 0 01-1.414 0z" />
                                    </svg>
                                </a>
                            </th>
                            <th>Lens ID</th>
                            <th>Status</th>
                            <th>Last Modified Date</th>
                            <th class="table-cell-actions"></th>
                        </tr>
                    </thead>
                    <tbody id="tableBody">
                    </tbody>
                </table>

                <!-- Empty State -->
                <div id="noData" class="empty-state" style="display:none;">
                    <div class="empty-state__content">
                        <img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIiB2aWV3Qm94PSIwIDAgMTAwIDEwMCI+CiAgPGNpcmNsZSBjeD0iNTAiIGN5PSI1MCIgcj0iNDUiIGZpbGw9IiNmM2Y0ZjYiLz4KICA8cGF0aCBmaWxsPSIjZGRkIiBkPSJNMzAgMzBoNDB2NDBIMzB6Ii8+CiAgPHBhdGggZmlsbD0iIzk5OSIgZD0iTTQwIDQ1aDIwdjVINDB6TTQwIDU1aDIwdjVINDB6Ii8+Cjwvc3ZnPg==" alt="No items" class="empty-state__image">
                        <h3 class="empty-state__title">No items to display.</h3>
                        <p class="empty-state__message">
                            Try switching list views, changing your filters, or creating a new Content Lens.
                        </p>
                    </div>
                </div>

                <!-- Clone Button (floating when items selected) -->
                <div id="floatingActions" class="floating-actions" style="display:none;">
                    <span class="selected-count">0 selected</span>
                    <button class="btn btn-neutral" onclick="cloneLenses()">Clone</button>
                </div>
            </div>
        </div>

        <!-- New Lens Modal -->
        <div id="newModal" class="modal" style="display: none;">
            <div class="modal-backdrop" onclick="hideNewModal()"></div>
            <div class="modal-dialog">
                <div class="modal-content">
                    <header class="modal-header">
                        <h2 class="modal-header__title">New Content Lens</h2>
                        <button class="modal-header__close" onclick="hideNewModal()">
                            <svg viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd" />
                            </svg>
                        </button>
                    </header>
                    <div class="modal-body">
                        <div class="form-element">
                            <label class="form-element__label" for="lensName">
                                <abbr class="required" title="required">*</abbr>Lens Name
                            </label>
                            <div class="form-element__control">
                                <input type="text" id="lensName" class="input" required>
                            </div>
                            <div id="nameError" class="form-element__help" style="display: none;">This field is required.</div>
                        </div>
                        <div class="form-element">
                            <label class="form-element__label" for="lensDesc">Description</label>
                            <div class="form-element__control">
                                <textarea id="lensDesc" class="textarea" rows="3"></textarea>
                            </div>
                        </div>
                        <div class="form-element">
                            <label class="form-element__label" for="lensStatus">Status</label>
                            <div class="form-element__control">
                                <div class="select-wrapper">
                                    <select id="lensStatus" class="select">
                                        <option value="Draft">Draft</option>
                                        <option value="Published">Published</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                    <footer class="modal-footer">
                        <button class="btn btn-neutral" onclick="hideNewModal()">Cancel</button>
                        <button class="btn btn-brand" onclick="saveLens()">Save</button>
                    </footer>
                </div>
            </div>
        </div>

        <!-- Loading Modal -->
        <div id="loadingModal" class="modal" style="display: none;">
            <div class="modal-backdrop"></div>
            <div class="modal-dialog modal-small">
                <div class="modal-content">
                    <div class="spinner-container">
                        <div class="spinner">
                            <span class="spinner__dot-a"></span>
                            <span class="spinner__dot-b"></span>
                        </div>
                        <div class="spinner-text">Opening Content Lens...</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>